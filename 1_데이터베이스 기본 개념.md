# 데이터베이스 기본 개념

[한양대 데이터베이스 원리와 응용](http://www.kocw.net/home/search/kemView.do?kemId=1163794) 1-3장 요약

## 데이터와 정보

- 데이터(data)

  - 현실에서 단순히 관찰하거나 측정해 수집한 사실이나 값

- 정보(information)
  - 의사 결정에 활용할 수 있게 데이터를 가공한 것

### 정보 시스템과 데이터 베이스

- 정보 시스템
  - 조직 운영에 필요한 데이터를 수집하여 저장해두었다가 필요할 때 유용한 정보를 만들어 주는 수단
- 데이터베이스
  - 정보시스템 안에서 데이터를 저장하고 있다가 필요할 때 제공

## 데이터베이스의 정의와 특성

### 정의

- 데이터베이스(DataBase) : 특정 조직의 여러 사용자가 '공유'하여 사용할 수 있도록 '통합'해서  
  '저장'한 '운영'데이터의 집합

- 통합 데이터 : 최소의 중복과 통제가능한 중복만 허용
- 저장 데이터 : 컴퓨터가 접근할 수 있는 매체에 저장
- 공유 데이터 : 특정 조직의 여러 사용자가 함께 소유/이용
- 운영 데이터 : 조직의 주요 기능을 수행하기 위해 조직이 끝날 떄까지 지속적으로 유지

### 특성

- 실시간 접근 : 사용자의 데이터 요구의 실시간으로 응답
- 계속 변화 : 데이터의 계속적 삽입, 삭제, 수정을 통해 현제의 정확한 데이터 유지
- 내용 기반 참조 : 데이터가 저장된 주소나 위치가 아닌 내용으로 참조
- 동시 공유 : 서로 다른 데이터의 동시 사용뿐만 아니라 같은 데이터의 동시 사용도 지원

## 데이터 베이스 관리 시스템의 등장 배경

### 파일 시스템(file system)

- 데이터를 파일로 관리 하기위해 파일을 생성, 삭제, 수정, 검색하는 기능을 제공하는 소프트 웨어
- 응용 프로그램마다 필요한 데이터를 별도의 파일로 관리함.

- 파일 시스템의 장점 :

  - 단순함 : 특정 소프트웨어 없이 쉽게 생성 및 관리 가능
  - 저렴함 : 특정 툴에 투자하거나 사용방법을 가르칠 필요가 없음
  - 직접 접근 : 유저가 저장기기로부터 바로 접근 가능

- 파일 시스템의 문제점 :

  - 같은 내용의 데이터가 여러 파일에 중복 저장(데이터 중복성). 저장 공간 낭비는 물론 데이터 일관성과 무결성 유지가 힘듦.  
    주문 내역 파일과 사용자 정보 파일에서 주소라는 데이터가 중복 될 수 있다. 또한 실수로 하나의 파일에만 데이터를 갱신하  
    는 사태가 발생 할 수 있다.
  - 응용 프로그램이 데이터 파일에 종속적(데이터 종속성). 파일 구조가 바뀌면 응용프로그램도 바꿔야함.
  - 데이터 파일에 대한 동시 공유, 보안, 회복 기능이 부족함.
  - 응용 프로그램 개발이 어려워짐.

### 데이터베이스 관리 시스템(DataBase Management System)

- 파일 시스템의 대안으로 제시된 소프트웨어로 조직에 필요한 데이터를 DB에 통합하여 저장하고 관리함.
- DBMS는 응용 프로그램을 대신하여 DB의 데이터를 검색, 삽입, 수정, 삭제 기능을 제공한다.
- 응용 프로그램들이 DB를 공유하여 사용하게 한다.

- DBMS 사용의 장점:

  - 데이터 중복성 감소 : 중앙 집중화된 공간에 데이터를 저장
  - 데이터 일관성과 무결성 향상 : DB에 변경 내역은 모든 관련 데이터에 영향을 끼친다.
  - 보안 강화 : 역할 기반의 접근을 제공하여 허용된 사용자만이 데이터를 조회/수정
  - 간소화된 데이터 접근 : SQL같은 쿼리 언어로 쉽게 데이터를 접근 가능
  - 데이터 관계 지원 : 고객과 주문내역을 고객 ID로 관계 지을 수 있다
  - 동시성 관리 : 사용자들이 충돌 없이 동시에 데이터를 접근/수정 가능

- DBMS 사용의 단점:
  - 높은 비용
  - 백업 및 회복의 복잡성
  - 중압 집중 관리로 인한 취약점

### DBMS의 발전 과정

- 1세대 : 네트워크 DBMS, 계층 DBMS
  - 네트워크 DBMS : DB를 그래프 형태로 구성 (ex- IDS(IntegratedDataBase))
  - 계층 DBMS : DB를 트리 형태로 구성 (ex- IMS(Information Management System))
- 2세대 : 관계형 DBMS
  - 관계형 DBMS : 데이터에이스를 테이블 형태로 구성 (ex- 오라클, MS SQL서버, MySQL)
- 3세대 : 객체지향 DBMS, 객체 관계 DBMS
  - 객체지향 DBMS : 객체를 이용해 DB를 구성 (ex - O2, ONTOS, GemStone)
  - 객체관계 DBMS : 객체 DBMS + 관계 DBMS

## 데이터베이스 시스템(DataBase System)

- 데이터베이스 시스템 : DB에 데이터를 저장하고 관리하여 조직에 필요한 정보를 생성해주는 시스템이다.  
  DB, DBMS 그리고 사용와 DBMS를 연결하는 데 필요한 데이터 언어까지 포함하는 개념이다.

### 데이터베이스의 구조

- 스키마(schema) : DB에 저장되는 데이터 구조와 제약조건을 정의 한것 (ex- 고객번호:이름:나이:주소)
- 인스턴스(instance) : 스키마에 따라 DB에 실제로 저장된 값 (ex - 200:홍길동:25:송파구)

### 3단계 데이터베이스 구조

- 미국 표준화 기관인 ANSI/SPARC에서 제안
- 데이터베이스를 쉽게 이해하고 이용할 수 있도록 하나의 DB를 관점에 따라 세 단계로 나눈 것
  - 외부 단계(external level) : 개별 사용자 관점
  - 개념 단계(conceptual level) : 조직 전체의 관점
  - 내부 단계(internal level) : 물리적 저장 장치의 관점
- 각 단계별로 다른 추상화 제공
  - 내부에서 외부 단계로 갈수록 추상화 레벨이 높아짐

![3단계 DB구조 예](https://digitalnoteshub.com/wp-content/uploads/2022/10/Diagram-for-a-schema.png)

### 3단계 데이터베이스 구조\_외부 단계

- DB를 개별 사용자 관점에서 이해하고 표현하는 단계
- DB하나에 여러 외부 스키마가 존재 할 수 있음.
  - 외부 스키마(서브 스키마) : 외부 단계에서 각 사용자가 생각하는 DB모습. 즉, 논리적 구조로 사용자 마다 다름

### 3단계 데이터베이스 구조\_개념 단계

- DB를 조직 전체 관점에서 이해하고 표현하는 단계
- DB 하나에 하나의 개념 스키마가 존재
  - 개념 스키마 : 개념단계에서 DB 전체의 논리적 구조를 정의. 조직 전체 관점에서 생각하는 DB모습.
    전체 DB에 어떤 데이터가 저장되는 지, 데이터들 간에 어떤 관계가 존재하고 어떤 제약조건이 존재하는지 에대한  
     정의 뿐만아니라, 데이터에 대한 보안 정책이나 접근 권한에 대한 정의도 포함.

### 3단계 데이터베이스 구조\_내부 단계

- DB를 조직 저장 장치 관점에서 이해하고 표현하는 단계
- DB 하나에 하나의 개념 스키마가 존재

  - 내부 스키마 : 전체 DB가 저장 장치에 실제로 저장되는 방법을 정의한것. 레코드 구조, 필드 크기, 레코드 접근  
    경로 등 물리적 저장 구조를 정의

### 3단계 데이터베이스 구조의 사상 또는 매핑

- 스키마 사이의 대응 관계
  - 외부/개념 사상 : 외부 스키마와 개념 스키마의 대응관계(응용 인터페이스라고도 함)
  - 개념/내부 사상 : 개념 스키마와 내부 스키마의 대응관계(저장 인터페이스라고도 함)
- 미리 정의된 사상 정보를 이용하여 사용자가 원하는 데이터에 접근한다.

이렇게 DB를 3단계 구조로 나누고 단계별로 스키마를 유지하며 스키마 사이의 대응 관계를 정의하는 궁극 적인 목적...

**데이터 독립성의 실현**

- 데이터 독립성 : 하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성
- 논리적 데이터 독리성 :개념 스키마가 변경되어도 외부 스키마 영향X. 개념스키마가 바뀌면 외부/개념사상만 수정
- 물리적 데이터 독리성 :내부 스키마가 변경되어도 개념 스키마 영향X. 내부스키마가 바뀌면 개념/내부사상만 수정

### 데이터 사전(data dictionary)

- 시스템 카탈로그라고도 함
- 데이터 베이스에 저장되는 데이터에 관한 정보, 즉 메타 데이터를 유지하는 시스템 데이터베이스
- 스키마, 사상 정보, 다양한 제약 조건을 저장
- DBMS가 스스로 생성하고 유지
- 일반 사용자도 접근 가능하지만 검색만 가능

### 데이터 디렉토리(data directory)

- 데이터 사전에 있는 데이터에 실제로 접근하는 데 필요한 위치 정보를 저장하는 시스템 데이터베이스
- 일반 사용자 접근 불가

### 사용자 데이터 베이스

- 사용자가 실제로 이용하는 데이터가 저장된 일반 DB

## 데이터 언어

- 사용자와 DBMS간의 통신수단
- 사용 목적에 따라 데이터 정의어, 데이터 조작어, 데이터 제어어로 구분

### 데이터 정의어(Data Definition Language)

- 스키마를 정의, 수정, 또는 삭제 하기 위해 사용

### 데이터 조작어(Data Manipulation Language)

- 데이터의 삽입, 삭제, 수정, 검색 등의 처리를 요구하기 위해 사용
- 절차적 데이터 조작어와 비절차적 데이터 조작어로 구분
  - 절차적 데이터 조작어(procedural DML) : 사용자가 어떤 데이터를 원하고 그 데이터를 얻기위해  
    어떻게 처리해야하는 지 설명
  - 비절차적 데이터 조작어(nonprocedural DML) : 사용자가 어떤 데이터를 원하는지만 설명. 선언적
    언어(declarative language)라고도 함

### 데이터 제어어(Data Control Language)

- 내부적으로 필요한 규칙이나 기법을 정의하기 위해 사용
- 사용 목적
  - 무결성 : 정확하고 유효한 데이터 유지
  - 보안 : 허가받지 않은 사용자의 데이터 접근차단
  - 회복 : 장애가 발생해도 데이터 일관성 유지
  - 동시성 제어 : 동시 공유 지원

## DBMS의 구성

- DBMS : 데이터 베이스 관리와 사용자의 데이터 처리 요구 수행

![DBMS 요약도](https://media.geeksforgeeks.org/wp-content/uploads/20200827091919/DBMS.png)

1. 쿼리 관리자 : 유저로 부터 받은 쿼리를 명령문으로 바꾼다. 다음과 같은 요소를 포함한다.

   - DML 컴파일러 : DML구문을 기계어로 가공
   - DDL 인터프리터 : DDL 구문을 메타 데이터를 담는 테이블 셋으로 가공
   - Embedded DML Pre-compiler : 응용 애플리케이션에 내장된 DML구문을 procedural call로 가공
   - Query Optimizer

2. 저장소 관리자 : DB에 저장된 데이터와 전달 받은 쿼리사이의 인터페이스를 제공한다. DB 컨트롤 시스템으로도  
   불린다. 제약을 적용하고 DCL구문을 실행하여 DB의 일관성과 무결성을 유지한다. DB내의 데이터 갱신, 저장, 삭제,  
   읽기를 담당한다. 다음과 같은 요소를 포함한다.

   - 권한 관리자 : 역할에 기반한 접근 통제를 보장한다.
   - 무결성 관리자 : DB가 수정될 때 무결성 제약을 검사한다
   - 트랜잭션 관리자 : 트랜잭션을 받은 순서에 따라 일정한 방식으로 작업을 수행하여 동시접근을 제어한다.
   - 파일 관리자 : 파일 공간과 정보를 보여주는 데 사용된 데이터 구조를 관리한다.
   - 버퍼 관리자 : 캐시메모리와, 보조 저장소와 메인 저장소간의 데이터 전송을 관리한다.

3. 디스크 저장소 : 다음과 같은 요소 포함
   - 데이터 파일
   - 데이터 사전

#### 참조

- [GG : Need For DBMS](https://www.geeksforgeeks.org/need-for-dbms/)
- [GG : structure-of-database-management-system](https://www.geeksforgeeks.org/structure-of-database-management-system/)
